本章では、遺産観光を対象とした価値観計量による観光地推薦方式
を実現するための
システム概要，データ構造，及び，基本機能を示す．

〇システム概要
・入力取得と出力表示制御の方式
HTMLページ
Perl CGIによりPostgreSQLに接続し、結果を得る。

〇データ構造
・世界遺産データ
世界遺産データはPostgreSQL上に記述されている。
データ内容はユネスコ公式サイトを基に〇年現在登録されている〇個のデータを収納している。
データ構造は表に示した通り、世界遺産名称を主キーとし、所属国名ととより詳細なエリア名、緯度経度とその世界遺産に認められている普遍的価値軸を属性に持つ。
普遍的価値については10軸それぞれに認められているか否かで0か1かの値を持つ。

・ユーザーデータ
ユーザーコンテキストは、検索推薦システムの入力としてコーパスの集合を都度入手する形式を採った。
データベースとしては保持しない。





世界遺産の価値評価文書を文章解析する部、
価値評価文書からコーパスを抽出し、世界遺産用語知識ベースを生成する部と
知識ベースを参照し、世界遺産とユーザーの価値評価文脈の相関計量を行う部

世界遺産用語知識ベース

--------------------
本システムは、商品情報の説明文を文章解析する部
分、その情報を元に検索時に出題する質問を構成する
単語（質問群を構成するためのメタデータとなる。こ
れをタグと呼ぶこととする）を選定し抽出する部分、
それらの情報より実際に対話型検索を行い、表示する
部分の３つで構成される。（図１）


以上の3つの機能的特徴を持たせた新しい可視化方
式を実現するためのシステム構成と仕様について説明
する。中心となるのは、次列車着発見込時刻案内を司
る推定時刻表作成プログラムと運転状況アラートを司
る指定区間整理プログラムの２つのプログラムで、そ
れぞれの計算結果は設置駅フィルタを通して可視化す
る駅ごとに必要なデータのみ抽出され、可視化プログ
ラムへ至る流れとなる。使用するデータは、列車の実
際の走行記録である実績着発時刻データと所定の着発
時刻である計画時刻表データである。

本節では，音楽メディア・クリエイションのための
時系列相関計量システムのシステム概要,データ構造,
及び,基本機能を示す.
2.1. システム概 要
本システムでは，（1） MP3 や WAVE ファイル等の
シグナルデータ，（2）MIDI データ，の 2 種類の楽曲デ
ータを対象として分析を行う．また，両者に共通する
前提として，ユーザー（作曲者）が，参考にしたいと
考えている楽曲，すなわち，"分析対象とする楽曲（X）
"を有していることを挙げる．
ユーザー（作曲者）が，"分析対象とする楽曲（X）
"をクエリとして選択すると，システムは，"フレーズ
データベース"に収められた多数の"典型的なフレーズ
（Y）"との相関計量を行い，その結果を時系列にプロ
ットする（図 1）．このプロセスを通じ，ユーザー（作
曲者）は，"分析対象とする楽曲（X）"の楽曲構成を
知ることが可能となる．例えば，「楽曲の A メロにあ
たる箇所は，Jazz の雰囲気を持つ」，「このドラム・フ
ィルインは House で多用されるものである」等だ
2.2. データ構 造 ・計 算 方 式
2.2.1. MP3 や や WAVE フ ァ イ ル 等 の シ グ ナ ル デ ー タ
2.2.1.1. デ ー タ 構 造
シグナルデータを対象とした相関計量では，次の 4
つのステップを経る．以下にそのプロセス図を示す


. 3. コラージュ・データベース構築の手順 コラージュ・データベース構築の手順
本研究では、素材に対しての評価と作品全体に対し
ての評価は分けて考える。つまり、個である「素材」
と、個の集合である「作品」、集合を作り出す「制作者」
の３つを実体として捉える。以降は、コラージュ・デ
ータベース構築の手順を示す。
STEP.1 「素材」の収集
本研究では、コラージュに使用する「素材」をあら
かじめ用意し、制作者にはその中から切り抜く素材を
選択する。素材の収集に際しては、ウェブ上にあるフ
リー素材[4][5][6][7]の中からジャンルに偏りなく選別
する。被験者の年齢と性別が多様化した時、この部分
は特に留意するべき点だ。
STEP.2 「素材」を納 データベースへ格納
各素材の要素を判別し、データベースに格納する。
素材の要素は、①色系統、②ジャンルの２つに大きく
分かれる。①は、FeelimageAnalyzer[8]にて規定され
ている 13 の基本色をどのくらい要素として含んでい
るのか数値化する。②は筆者が指定した 13 のジャンル
にその素材が当てはまるかどうかを判断し、数値化す
る。0 であればそのジャンルとは関係がなく、1 であれ
ば関係があるとする。以下に例を上げる。

　基本的な構成としては、 SQL データベース・位置情報計算・相関量計算を組み合わせたものに
なっている。基本構成図を図 5.1 に示す。

システムの実装においては、 PC と携帯電話両方で実装を行った。 PC では入力部分を多くする
ことでデータの評価ができるようになっており、携帯電話上では実際に i エリアを利用した位置情報
からの算出が可能になっている。

　観光スポットデータは PostgreSQL 上に記述されている。データ内容に関しては旅行ガイド
[51][52][53][54][55][56][57] を参考にして入力を行っている。また、今回はさまざまな特徴をもつ地域
におけるデータを獲得するということから、表 5.2 の地域を対象とした。
　また、地域特性に関しても PostgreSQL 上に記述した。具体的には表 5.2 の「地域特性」の蘭を参
照していただきたい。

相関量計算に関しては、内積計算によるものを利用している。内積計算に用いる相関量に関して
は、内積計算の対象となる各部分の要素を地域ごとに正規化し均等に分けて -5 ～ 5 の１１段階評価で
評価し、相関量データとした。
　ベクトルデータに関しては、結果問い合わせに用いるキーワードのベクトルである印象語データ、
検索対象となる観光スポットに振られた観光スポットデータ、周辺環境とデータの間の対応を示し
た Context Vector の３つのデータを CSV 形式で用意した。基本的には印象語データと観光スポッ
トデータの間の内積を取ることで相関量計算を行っている。
　データの取り方に関しては、データの根拠となるものは可能なかぎり収集し、それをもとにそのま
ま活用できるものは活用し、一方で私自身が作らなければならない部分はこちら側で入力する方式
を取った。なお、データ獲得の際に参考にしたものを以下に挙げる


ここでは、システムの実現方式とその流れについて説明する。全体の簡潔な流れを図 8.1 に、シ
ステム全体から見た流れを図 8.2 に示す。本章では、この２つの図を元にしてシステムの実現方式を
その流れについて説明する。

データを入力し、「 Submit 」ボタンを押すと、初期画面で入力されたデータが CGI プログラム
に送られる。そして、データが入力されている事を示すためと現在の状況を分かりやすくするため
に、ユーザーが初期画面で入力したデータを一度出力する。その後、 Postgres によってパターンマッ
チングが行われる。この部分では、ユーザーが入力した現在の位置と日時に関するデータを元にして
観光スポットデータ・天気気象データ・屋外屋内判定データのデータベースにアクセスし、パターン
マッチング検索を行う。
　この部分では、営業時間外の施設の除外および降水・降雪量が 15mm 以上、風速が 15m/s 以上の
場合の屋外施設の除外が行われ、またユーザーが入力した現在の位置の条件に適合する施設の名前
が出力値となる。
　また、初期画面での現在位置データは複数の種類があるが、次のような優先度でパターンマッチン
グが行われる。
緯度経度＋範囲＞ i エリアコード＞現在いる地域の地域名
　最終的に、パターンマッチングの出力値である観光スポットの名前が内積計算の際に用いる ID
となる。
　なお、本来であれば休業日の施設を除外する作業も必要になるが、今回は実装を簡単にするためそ
の作業は入れていない。